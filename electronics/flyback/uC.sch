EESchema Schematic File Version 2  date Sat 17 Jul 2010 04:23:21 PM PDT
LIBS:power,../thunderbots-symbols,device,transistors,conn,linear,regul,74xx,cmos4000,adc-dac,memory,xilinx,special,microcontrollers,dsp,microchip,analog_switches,motorola,texas,intel,audio,interface,digital-audio,philips,display,cypress,siliconi,opto,atmel,contrib,valves
EELAYER 43  0
EELAYER END
$Descr A4 11700 8267
Sheet 2 2
Title ""
Date "17 jul 2010"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Connection ~ 10350 3000
Wire Wire Line
	10350 3100 10350 3000
Wire Wire Line
	10150 3000 10550 3000
Connection ~ 7100 6200
Wire Wire Line
	7700 3600 10050 3600
Wire Wire Line
	10050 3600 10050 6200
Wire Wire Line
	10050 6200 6400 6200
Connection ~ 5600 6000
Wire Wire Line
	5600 6000 1100 6000
Wire Wire Line
	1100 6000 1100 900 
Wire Wire Line
	1100 900  5300 900 
Wire Wire Line
	5300 900  5300 1400
Wire Wire Line
	9350 1500 9350 1550
Wire Wire Line
	9350 1550 9650 1550
Wire Wire Line
	10050 1850 10050 1950
Wire Wire Line
	7900 3200 7700 3200
Wire Wire Line
	3900 3300 3700 3300
Connection ~ 2200 4600
Wire Wire Line
	2200 4600 2400 4600
Wire Wire Line
	2400 4600 2400 3700
Wire Wire Line
	2400 3700 3900 3700
Wire Wire Line
	2800 3950 2800 4000
Wire Wire Line
	2200 4750 2200 4450
Wire Wire Line
	2800 5450 2800 5650
Wire Wire Line
	1600 4250 1600 4050
Wire Wire Line
	2500 3600 1600 3600
Wire Wire Line
	1600 3600 1600 3650
Wire Wire Line
	3000 3600 3900 3600
Wire Wire Line
	5800 6000 5800 6400
Wire Wire Line
	5900 6400 5900 5200
Wire Wire Line
	5600 6400 5600 5450
Wire Wire Line
	5700 5200 5700 5400
Wire Wire Line
	5700 5400 5500 5400
Wire Wire Line
	8000 3700 7700 3700
Wire Wire Line
	9450 5150 8100 5150
Wire Wire Line
	9000 4600 9000 4550
Wire Wire Line
	6100 5200 6100 5400
Connection ~ 9350 5150
Wire Wire Line
	9350 5050 9350 5150
Wire Wire Line
	7100 6750 7100 6900
Connection ~ 6650 6200
Wire Wire Line
	6650 6250 6650 6150
Wire Wire Line
	8200 1200 8200 1000
Wire Wire Line
	9350 3500 9350 2700
Wire Wire Line
	9350 2700 9250 2700
Wire Wire Line
	8850 3300 8200 3300
Wire Wire Line
	8200 3300 8200 3100
Wire Wire Line
	8200 3100 7700 3100
Wire Wire Line
	8200 2350 8200 2500
Wire Wire Line
	7700 1400 7900 1400
Wire Wire Line
	7900 2150 7700 2150
Wire Wire Line
	8200 1600 8200 1950
Wire Wire Line
	8750 1800 8200 1800
Connection ~ 8200 1800
Wire Wire Line
	7700 3000 8250 3000
Wire Wire Line
	8250 3000 8250 2700
Wire Wire Line
	8250 2700 8850 2700
Wire Wire Line
	9250 3300 9350 3300
Connection ~ 9350 3300
Wire Wire Line
	6650 5650 6650 5550
Wire Wire Line
	6650 6750 6650 6900
Wire Wire Line
	7100 6200 7100 6350
Wire Wire Line
	6000 5200 6000 5500
Wire Wire Line
	6000 5500 6400 5500
Wire Wire Line
	6400 5500 6400 6200
Wire Wire Line
	9450 5700 9450 5850
Connection ~ 9000 5150
Wire Wire Line
	9000 5200 9000 5100
Wire Wire Line
	9000 5700 9000 5850
Wire Wire Line
	9450 5150 9450 5300
Wire Wire Line
	9350 4650 9350 4550
Wire Wire Line
	9350 4550 9000 4550
Wire Wire Line
	6300 5200 6300 5300
Wire Wire Line
	6300 5300 8100 5300
Wire Wire Line
	8100 5300 8100 5150
Connection ~ 9100 4550
Wire Wire Line
	9100 4550 9100 4400
Wire Wire Line
	9100 4400 9000 4400
Wire Wire Line
	5600 5450 5800 5450
Wire Wire Line
	5800 5450 5800 5200
Wire Wire Line
	5500 5400 5500 6400
Wire Wire Line
	5700 6400 5700 6250
Wire Wire Line
	5800 5500 5900 5500
Connection ~ 5900 5500
Wire Wire Line
	5700 5850 5700 6100
Wire Wire Line
	5700 6100 5800 6100
Connection ~ 5800 6100
Wire Wire Line
	3450 3500 3900 3500
Wire Wire Line
	2950 3500 1250 3500
Wire Wire Line
	1250 3500 1250 3650
Wire Wire Line
	1250 4050 1250 4250
Wire Wire Line
	2800 4950 2800 4600
Wire Wire Line
	2200 5650 2200 5250
Wire Wire Line
	2200 3750 2200 3850
Wire Wire Line
	2800 4750 3650 4750
Connection ~ 2800 4750
Wire Wire Line
	3650 4750 3650 3800
Wire Wire Line
	3650 3800 3900 3800
Wire Wire Line
	3900 3400 3750 3400
Wire Wire Line
	7900 3300 7700 3300
Wire Wire Line
	5400 5400 5400 5350
Wire Wire Line
	5400 5350 5600 5350
Wire Wire Line
	5600 5350 5600 5200
Wire Wire Line
	6100 5400 7750 5400
Wire Wire Line
	10450 1550 10750 1550
Wire Wire Line
	10750 1550 10750 1450
Wire Wire Line
	6100 1400 6100 1150
Wire Wire Line
	6100 1150 7700 1150
Wire Wire Line
	7700 1150 7700 2150
Connection ~ 7700 1400
Wire Wire Line
	3900 2800 1050 2800
Wire Wire Line
	1050 2800 1050 6100
Wire Wire Line
	1050 6100 5500 6100
Connection ~ 5500 6100
Wire Wire Line
	10150 2600 10550 2600
Wire Wire Line
	10350 2550 10350 2600
Connection ~ 10350 2600
$Comp
L GND #PWR016
U 1 1 4C423539
P 10350 3100
F 0 "#PWR016" H 10350 3100 30  0001 C CNN
F 1 "GND" H 10350 3030 30  0001 C CNN
	1    10350 3100
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR017
U 1 1 4C42352E
P 10350 2550
F 0 "#PWR017" H 10350 2650 30  0001 C CNN
F 1 "VDD" H 10350 2660 30  0000 C CNN
	1    10350 2550
	1    0    0    -1  
$EndComp
$Comp
L CP1 C12
U 1 1 4C42351A
P 10550 2800
F 0 "C12" H 10600 2900 50  0000 L CNN
F 1 "100uF" H 10600 2700 50  0000 L CNN
	1    10550 2800
	1    0    0    -1  
$EndComp
$Comp
L C C11
U 1 1 4C423510
P 10150 2800
F 0 "C11" H 10200 2900 50  0000 L CNN
F 1 "100nF" H 10200 2700 50  0000 L CNN
	1    10150 2800
	-1   0    0    1   
$EndComp
$Comp
L VDD #PWR018
U 1 1 4C423373
P 8200 1000
F 0 "#PWR018" H 8200 1100 30  0001 C CNN
F 1 "VDD" H 8200 1110 30  0000 C CNN
	1    8200 1000
	1    0    0    -1  
$EndComp
$Comp
L PIC18F4550 U1
U 1 1 4C41FEB3
P 5800 3300
F 0 "U1" H 5800 3250 60  0000 C CNN
F 1 "PIC18F4550" H 5800 3350 60  0000 C CNN
F 2 "TQFP44" H 5700 3150 60  0001 C CNN
	1    5800 3300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR019
U 1 1 4C422FFC
P 10050 1950
F 0 "#PWR019" H 10050 1950 30  0001 C CNN
F 1 "GND" H 10050 1880 30  0001 C CNN
	1    10050 1950
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR020
U 1 1 4C422FEB
P 10750 1450
F 0 "#PWR020" H 10750 1550 30  0001 C CNN
F 1 "VDD" H 10750 1560 30  0000 C CNN
	1    10750 1450
	1    0    0    -1  
$EndComp
$Comp
L +BATT #PWR021
U 1 1 4C422FE6
P 9350 1500
F 0 "#PWR021" H 9350 1450 20  0001 C CNN
F 1 "+BATT" H 9350 1600 30  0000 C CNN
	1    9350 1500
	1    0    0    -1  
$EndComp
$Comp
L LM7805 U2
U 1 1 4C422FE2
P 10050 1550
F 0 "U2" H 10200 1310 60  0000 C CNN
F 1 "LM7805" H 10055 1690 60  0000 C CNN
	1    10050 1550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR022
U 1 1 4C4226C9
P 5400 5400
F 0 "#PWR022" H 5400 5400 30  0001 C CNN
F 1 "GND" H 5400 5330 30  0001 C CNN
	1    5400 5400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR023
U 1 1 4C4226A2
P 7900 3200
F 0 "#PWR023" H 7900 3200 30  0001 C CNN
F 1 "GND" H 7900 3130 30  0001 C CNN
	1    7900 3200
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR024
U 1 1 4C42269D
P 3700 3300
F 0 "#PWR024" H 3700 3300 30  0001 C CNN
F 1 "GND" H 3700 3230 30  0001 C CNN
	1    3700 3300
	0    1    1    0   
$EndComp
$Comp
L VDD #PWR025
U 1 1 4C422689
P 7900 3300
F 0 "#PWR025" H 7900 3400 30  0001 C CNN
F 1 "VDD" H 7900 3410 30  0000 C CNN
	1    7900 3300
	0    1    1    0   
$EndComp
$Comp
L GND #PWR026
U 1 1 4C422652
P 3700 3300
F 0 "#PWR026" H 3700 3300 30  0001 C CNN
F 1 "GND" H 3700 3230 30  0001 C CNN
	1    3700 3300
	0    1    1    0   
$EndComp
$Comp
L VDD #PWR027
U 1 1 4C422640
P 3750 3400
F 0 "#PWR027" H 3750 3500 30  0001 C CNN
F 1 "VDD" H 3750 3510 30  0000 C CNN
	1    3750 3400
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR028
U 1 1 4C4224BB
P 2800 3950
F 0 "#PWR028" H 2800 4050 30  0001 C CNN
F 1 "VDD" H 2800 4060 30  0000 C CNN
	1    2800 3950
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR029
U 1 1 4C42248E
P 2200 3750
F 0 "#PWR029" H 2200 3850 30  0001 C CNN
F 1 "VDD" H 2200 3860 30  0000 C CNN
	1    2200 3750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR030
U 1 1 4C422466
P 2200 5650
F 0 "#PWR030" H 2200 5650 30  0001 C CNN
F 1 "GND" H 2200 5580 30  0001 C CNN
	1    2200 5650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR031
U 1 1 4C422461
P 2800 5650
F 0 "#PWR031" H 2800 5650 30  0001 C CNN
F 1 "GND" H 2800 5580 30  0001 C CNN
	1    2800 5650
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW3
U 1 1 4C422443
P 2800 4300
F 0 "SW3" H 2950 4410 50  0000 C CNN
F 1 "SW_PUSH" H 2800 4220 50  0000 C CNN
	1    2800 4300
	0    1    1    0   
$EndComp
$Comp
L SW_PUSH SW2
U 1 1 4C422437
P 2200 4150
F 0 "SW2" H 2350 4260 50  0000 C CNN
F 1 "SW_PUSH" H 2200 4070 50  0000 C CNN
	1    2200 4150
	0    1    1    0   
$EndComp
$Comp
L R R5
U 1 1 4C422367
P 2200 5000
F 0 "R5" V 2280 5000 50  0000 C CNN
F 1 "1kR" V 2200 5000 50  0000 C CNN
	1    2200 5000
	-1   0    0    1   
$EndComp
$Comp
L R R7
U 1 1 4C422360
P 2800 5200
F 0 "R7" V 2880 5200 50  0000 C CNN
F 1 "1kR" V 2800 5200 50  0000 C CNN
	1    2800 5200
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR032
U 1 1 4C422343
P 1600 4250
F 0 "#PWR032" H 1600 4250 30  0001 C CNN
F 1 "GND" H 1600 4180 30  0001 C CNN
	1    1600 4250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR033
U 1 1 4C422339
P 1250 4250
F 0 "#PWR033" H 1250 4250 30  0001 C CNN
F 1 "GND" H 1250 4180 30  0001 C CNN
	1    1250 4250
	1    0    0    -1  
$EndComp
$Comp
L LED D4
U 1 1 4C4222F6
P 1600 3850
F 0 "D4" H 1600 3950 50  0000 C CNN
F 1 "LED" H 1600 3750 50  0000 C CNN
	1    1600 3850
	0    1    1    0   
$EndComp
$Comp
L LED D3
U 1 1 4C4222E8
P 1250 3850
F 0 "D3" H 1250 3950 50  0000 C CNN
F 1 "LED" H 1250 3750 50  0000 C CNN
	1    1250 3850
	0    1    1    0   
$EndComp
$Comp
L R R8
U 1 1 4C422271
P 3200 3500
F 0 "R8" V 3280 3500 50  0000 C CNN
F 1 "160R" V 3200 3500 50  0000 C CNN
	1    3200 3500
	0    1    1    0   
$EndComp
$Comp
L R R6
U 1 1 4C42225C
P 2750 3600
F 0 "R6" V 2830 3600 50  0000 C CNN
F 1 "160R" V 2750 3600 50  0000 C CNN
	1    2750 3600
	0    1    1    0   
$EndComp
$Comp
L VDD #PWR034
U 1 1 4C421CD8
P 5700 5850
F 0 "#PWR034" H 5700 5950 30  0001 C CNN
F 1 "VDD" H 5700 5960 30  0000 C CNN
	1    5700 5850
	1    0    0    -1  
$EndComp
$Comp
L R R9
U 1 1 4C421C95
P 5800 5750
F 0 "R9" V 5880 5750 50  0000 C CNN
F 1 "10kR" V 5800 5750 50  0000 C CNN
	1    5800 5750
	1    0    0    -1  
$EndComp
$Comp
L R R10
U 1 1 4C421C91
P 6650 5900
F 0 "R10" V 6730 5900 50  0000 C CNN
F 1 "22kR" V 6650 5900 50  0000 C CNN
	1    6650 5900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR035
U 1 1 4C421B9A
P 5700 6250
F 0 "#PWR035" H 5700 6250 30  0001 C CNN
F 1 "GND" H 5700 6180 30  0001 C CNN
	1    5700 6250
	-1   0    0    1   
$EndComp
Text HLabel 8000 3700 2    60   Output ~ 0
High Voltage
Text HLabel 7750 5400 2    60   Output ~ 0
Current Sense
Text HLabel 9000 4400 0    60   Output ~ 0
Emitter Voltage
$Comp
L C C9
U 1 1 4C4207F0
P 9350 4850
F 0 "C9" H 9400 4950 50  0000 L CNN
F 1 "10nF" H 9400 4750 50  0000 L CNN
	1    9350 4850
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR036
U 1 1 4C4207CD
P 9450 5850
F 0 "#PWR036" H 9450 5850 30  0001 C CNN
F 1 "GND" H 9450 5780 30  0001 C CNN
	1    9450 5850
	1    0    0    -1  
$EndComp
$Comp
L C C10
U 1 1 4C4207CC
P 9450 5500
F 0 "C10" H 9500 5600 50  0000 L CNN
F 1 "100nf" H 9500 5400 50  0000 L CNN
	1    9450 5500
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR037
U 1 1 4C4207CB
P 9000 5850
F 0 "#PWR037" H 9000 5850 30  0001 C CNN
F 1 "GND" H 9000 5780 30  0001 C CNN
	1    9000 5850
	1    0    0    -1  
$EndComp
$Comp
L R R13
U 1 1 4C4207CA
P 9000 5450
F 0 "R13" V 9080 5450 50  0000 C CNN
F 1 "10kR" V 9000 5450 50  0000 C CNN
	1    9000 5450
	1    0    0    -1  
$EndComp
$Comp
L R R12
U 1 1 4C4207C9
P 9000 4850
F 0 "R12" V 9080 4850 50  0000 C CNN
F 1 "100kR" V 9000 4850 50  0000 C CNN
	1    9000 4850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR038
U 1 1 4C4204FC
P 7100 6900
F 0 "#PWR038" H 7100 6900 30  0001 C CNN
F 1 "GND" H 7100 6830 30  0001 C CNN
	1    7100 6900
	1    0    0    -1  
$EndComp
$Comp
L C C6
U 1 1 4C4204E6
P 7100 6550
F 0 "C6" H 7150 6650 50  0000 L CNN
F 1 "100nF" H 7150 6450 50  0000 L CNN
	1    7100 6550
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR039
U 1 1 4C4204C6
P 6650 6900
F 0 "#PWR039" H 6650 6900 30  0001 C CNN
F 1 "GND" H 6650 6830 30  0001 C CNN
	1    6650 6900
	1    0    0    -1  
$EndComp
$Comp
L R R11
U 1 1 4C4204B3
P 6650 6500
F 0 "R11" V 6730 6500 50  0000 C CNN
F 1 "2.5kR" V 6650 6500 50  0000 C CNN
	1    6650 6500
	1    0    0    -1  
$EndComp
$Comp
L +BATT #PWR040
U 1 1 4C420494
P 6650 5550
F 0 "#PWR040" H 6650 5500 20  0001 C CNN
F 1 "+BATT" H 6650 5650 30  0000 C CNN
	1    6650 5550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR041
U 1 1 4C420373
P 9350 3500
F 0 "#PWR041" H 9350 3500 30  0001 C CNN
F 1 "GND" H 9350 3430 30  0001 C CNN
	1    9350 3500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR042
U 1 1 4C420304
P 8200 2500
F 0 "#PWR042" H 8200 2500 30  0001 C CNN
F 1 "GND" H 8200 2430 30  0001 C CNN
	1    8200 2500
	1    0    0    -1  
$EndComp
$Comp
L NPN Q2
U 1 1 4C4202AA
P 8100 1400
F 0 "Q2" H 8250 1400 50  0000 C CNN
F 1 "KN2222A" H 8002 1550 50  0000 C CNN
	1    8100 1400
	1    0    0    -1  
$EndComp
$Comp
L PNP Q3
U 1 1 4C4202A7
P 8100 2150
F 0 "Q3" H 8250 2150 60  0000 C CNN
F 1 "PNP" H 8004 2300 60  0000 C CNN
	1    8100 2150
	1    0    0    1   
$EndComp
Text HLabel 8750 1800 2    60   Output ~ 0
Gate Drive
$Comp
L CONN_6 P3
U 1 1 4C41FF21
P 5650 6750
F 0 "P3" V 5600 6750 60  0000 C CNN
F 1 "CONN_6" V 5700 6750 60  0000 C CNN
	1    5650 6750
	0    1    1    0   
$EndComp
$Comp
L C C8
U 1 1 4C41FEE3
P 9050 3300
F 0 "C8" H 9100 3400 50  0000 L CNN
F 1 "22pf" H 9100 3200 50  0000 L CNN
	1    9050 3300
	0    1    1    0   
$EndComp
$Comp
L C C7
U 1 1 4C41FEDB
P 9050 2700
F 0 "C7" H 9100 2800 50  0000 L CNN
F 1 "22pf" H 9100 2600 50  0000 L CNN
	1    9050 2700
	0    1    1    0   
$EndComp
$Comp
L CRYSTAL X1
U 1 1 4C41FECB
P 8500 3000
F 0 "X1" H 8500 3150 60  0000 C CNN
F 1 "CRYSTAL" H 8500 2850 60  0000 C CNN
	1    8500 3000
	0    1    1    0   
$EndComp
$EndSCHEMATC
